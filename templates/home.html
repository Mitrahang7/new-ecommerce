{% extends 'base.html' %}

{% block content %}

<!-- Header-->
<header class="bg-dark py-5">
    <div class="container px-4 px-lg-5 my-5">
        <div class="text-center text-white">
            <h1 class="display-4 fw-bolder">Shop in style</h1>
            <p class="lead fw-normal text-white-50 mb-0">With this shop homepage template</p>
        </div>
    </div>
</header>

<!-- Section-->
<section class="py-5">
    <div class="container px-4 px-lg-5 mt-5">
        <div class="row justify-content-center">
            {% for product in products %}
                <div class="col-md-6 col-lg-4 mb-4">  <!-- Adjusted for vertical stacking -->
                    <div class="card h-100 shadow-sm p-3 d-flex flex-column align-items-center text-center">
                        <!-- Product Image (Full width) -->
                        <img class="img-fluid rounded mb-3" src="{{ product.image.url }}" alt="{{ product.name }}" style="max-height: 250px; object-fit: cover;" />

                        <!-- Product Details -->
                        <h5 class="fw-bolder">{{ product.name }}</h5>

                        {% if product.is_sale %}
                            <div class="text-warning fw-bold">
                                <span class="badge bg-dark text-white">SALE</span> &nbsp;ðŸ”¥ ON SALE!! ðŸ”¥
                            </div>
                            <p class="card-text text-danger fw-bold">
                                Price: ${{ product.sale_price }} <del class="text-muted">${{ product.price }}</del>
                            </p>
                        {% else %}
                            <p class="card-text fw-bold">Price: ${{ product.price }}</p>
                        {% endif %}

                        <p class="card-text"><strong>Category:</strong> {{ product.category }}</p>

                        <!-- View Options Button -->
                        <a class="btn btn-outline-dark mt-auto w-100" href="{% url 'product_detail' product.pk %}">View Options</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}
